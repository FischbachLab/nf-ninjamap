# TEST:
aegea batch submit --retry-attempts 1 --queue microbiome-highPriority --image sunitjain/ninjamap \
    --storage /mnt=500 --memory 64000 --vcpus 16 \
    --command="export trimQuality=20;export coreNum=16;export memPerCore=4G;export S3OUTPUTPATH=s3://czbiohub-microbiome/Sunit_Jain/Synthetic_Community/ninjaMap/2019-07-25_GroundTruth_NM_Mate/Ruminococcus-lactaris-ATCC-29176; export fastq1=s3://czbiohub-microbiome/Original_Sequencing_Data/180727_A00111_0179_BH72VVDSXX/Alice_Cheng/Strain_Verification/Ruminococcus-lactaris-ATCC-29176_S135_R1_001.fastq.gz; export fastq2=s3://czbiohub-microbiome/Original_Sequencing_Data/180727_A00111_0179_BH72VVDSXX/Alice_Cheng/Strain_Verification/Ruminococcus-lactaris-ATCC-29176_S135_R2_001.fastq.gz; ./ninjaMap_mate.sh"


aegea batch submit --watch --retry-attempts 1 --queue microbiome-highPriority --image sunitjain/ninjamap:latest \
    --storage /mnt=500 --memory 64000 --vcpus 16 \
    --command="export trimQuality=20;export coreNum=16;export memPerCore=4G;export S3OUTPUTPATH=s3://czbiohub-microbiome/Sunit_Jain/Synthetic_Community/ninjaMap/2019-07-25_GroundTruth_NM_Indexed/Ruminococcus-lactaris-ATCC-29176; export fastq1=s3://czbiohub-microbiome/Original_Sequencing_Data/180727_A00111_0179_BH72VVDSXX/Alice_Cheng/Strain_Verification/Ruminococcus-lactaris-ATCC-29176_S135_R1_001.fastq.gz; export fastq2=s3://czbiohub-microbiome/Original_Sequencing_Data/180727_A00111_0179_BH72VVDSXX/Alice_Cheng/Strain_Verification/Ruminococcus-lactaris-ATCC-29176_S135_R2_001.fastq.gz;./ninjaMap_index.sh"

# New BOWTIE SETTINGS with strict BBDUK trimQ=30, kmer_value=25:
aegea batch submit --retry-attempts 3 --queue microbiome-lowPriority --image sunitjain/ninjamap \
    --storage /mnt=500 --memory 64000 --vcpus 16 \
    --command="export kmer_value=25;export trimQuality=30;export coreNum=16;export memPerCore=4G;export maxInsert=3000;export maxAlignments=50;export S3DBPATH=s3://czbiohub-microbiome/Synthetic_Community/Genome_References/Bowtie2Index_090718;export fastq1=s3://czbiohub-microbiome/Original_Sequencing_Data/180727_A00111_0179_BH72VVDSXX/Alice_Cheng/Strain_Verification/Dorea-longicatena-DSM-13814_S275_R1_001.fastq.gz;export fastq2=s3://czbiohub-microbiome/Original_Sequencing_Data/180727_A00111_0179_BH72VVDSXX/Alice_Cheng/Strain_Verification/Dorea-longicatena-DSM-13814_S275_R2_001.fastq.gz;export S3OUTPUTPATH=s3://czbiohub-microbiome/Sunit_Jain/Synthetic_Community/ninjaMap/2019-05-16_StrainVerification/Dorea-longicatena-DSM-13814;./ninjaMap.sh"

# Original BOWTIE SETTINGS with strict BBDUK trimQ=30, kmer_value=25:
aegea batch submit --retry-attempts 3 --queue microbiome-lowPriority --image sunitjain/ninjamap \
    --storage /mnt=500 --memory 64000 --vcpus 16 \
    --command="export kmer_value=25;export trimQuality=30;export method='Original';export coreNum=15;export memPerCore=2G;export maxInsert=3000;export maxAlignments=50;export genomeReferenceDir=/czbiohub-brianyu/Synthetic_Community/Genome_References/Bowtie2Index_090718;export sampleName=Dorea-longicatena-DSM-13814;export fastq1=/czbiohub-brianyu/Original_Sequencing_Data/180727_A00111_0179_BH72VVDSXX/Alice_Cheng/Strain_Verification/Dorea-longicatena-DSM-13814_S275_R1_001.fastq.gz;export fastq2=/czbiohub-brianyu/Original_Sequencing_Data/180727_A00111_0179_BH72VVDSXX/Alice_Cheng/Strain_Verification/Dorea-longicatena-DSM-13814_S275_R2_001.fastq.gz;export bamOutput=/czbiohub-microbiome/Sunit_Jain/Synthetic_Community/bowtie_accu_align_original_tq30/2018.12.10_StrainVerification_removeRegions/Dorea-longicatena-DSM-13814.sortedByName.bam;export relativeAbundanceOutput=/czbiohub-microbiome/Sunit_Jain/Synthetic_Community/bowtie_accu_align_original_tq30/2018.12.10_StrainVerification_removeRegions/Dorea-longicatena-DSM-13814.alignmentSummary.csv;export readAccountingOutput=/czbiohub-microbiome/Sunit_Jain/Synthetic_Community/bowtie_accu_align_original_tq30/2018.12.10_StrainVerification_removeRegions/Dorea-longicatena-DSM-13814.readAccounting.csv;export s3Root=s3://czbiohub-microbiome/Sunit_Jain/Synthetic_Community/bowtie_accu_align_original_tq30/2018.12.10_StrainVerification_removeRegions/;./accu_align.sh"

# Original BOWTIE SETTINGS:
aegea batch submit --retry-attempts 3 --queue microbiome-lowPriority --image sunitjain/ninjamap \
    --storage /mnt=500 --memory 64000 --vcpus 16 \
    --command="export trimQuality=30;export method='Original';export coreNum=15;export memPerCore=2G;export maxInsert=3000;export maxAlignments=50;export genomeReferenceDir=/czbiohub-brianyu/Synthetic_Community/Genome_References/Bowtie2Index_090718;export sampleName=Dorea-longicatena-DSM-13814;export fastq1=/czbiohub-brianyu/Original_Sequencing_Data/180727_A00111_0179_BH72VVDSXX/Alice_Cheng/Strain_Verification/Dorea-longicatena-DSM-13814_S275_R1_001.fastq.gz;export fastq2=/czbiohub-brianyu/Original_Sequencing_Data/180727_A00111_0179_BH72VVDSXX/Alice_Cheng/Strain_Verification/Dorea-longicatena-DSM-13814_S275_R2_001.fastq.gz;export bamOutput=/czbiohub-microbiome/Sunit_Jain/Synthetic_Community/bowtie_accu_align_original/2018.12.10_StrainVerification_removeRegions/Dorea-longicatena-DSM-13814.sortedByName.bam;export relativeAbundanceOutput=/czbiohub-microbiome/Sunit_Jain/Synthetic_Community/bowtie_accu_align_original/2018.12.10_StrainVerification_removeRegions/Dorea-longicatena-DSM-13814.alignmentSummary.csv;export readAccountingOutput=/czbiohub-microbiome/Sunit_Jain/Synthetic_Community/bowtie_accu_align_original/2018.12.10_StrainVerification_removeRegions/Dorea-longicatena-DSM-13814.readAccounting.csv;export s3Root=s3://czbiohub-microbiome/Sunit_Jain/Synthetic_Community/bowtie_accu_align_original/2018.12.10_StrainVerification_removeRegions/;./accu_align.sh"